<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LINE Bot LIFF</title>
    <script src="https://d.line-scdn.net/liff/2.0/sdk.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        label { display: block; margin-top: 10px; }
        input, select { width: 100%; padding: 8px; margin-top: 5px; }
        button { margin-top: 20px; padding: 10px; background-color: #0072B8; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #005F8C; }
        .user-info { margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <h1>LINE Bot LIFF 功能</h1>
    <div class="user-info" id="userId">使用者 ID: 載入中</div>
    
    <label for="ticketCenter">單位:</label>
    <select id="ticketCenter">
        <option value="ticketCenter1">票務中心</option>
        <!-- 可以在這裡新增更多選項 -->
    </select>
    
    <label for="employeeId">工號:</label>
    <input type="text" id="employeeId" placeholder="請輸入工號" required>

    <label for="name">姓名:</label>
    <input type="text" id="name" placeholder="請輸入姓名" required>

    <button id="submitBtn">送出</button>

    <script>
        let userId = '';

        window.onload = function() {
            liff.init({ liffId: '2006470229-dRq9Jj5p' }).then(() => {
                if (liff.isLoggedIn()) {
                    liff.getProfile().then(profile => {
                        userId = profile.userId; // 存儲 userId
                        document.getElementById('userId').innerText = '使用者 ID: ' + userId; // 顯示使用者 ID
                    }).catch(err => console.error(err));
                } else {
                    liff.login();
                }
            }).catch(err => console.error(err));

            document.getElementById('submitBtn').addEventListener('click', () => {
                const ticketCenter = document.getElementById('ticketCenter').value;
                const employeeId = document.getElementById('employeeId').value;
                const name = document.getElementById('name').value;

                // 處理送出資料的邏輯
                console.log('使用者 ID:', userId);
                console.log('票務中心:', ticketCenter);
                console.log('工號:', employeeId);
                console.log('姓名:', name);
                // 顯示資料的對話框
                alert(`使用者 ID: ${userId}\n票務中心: ${ticketCenter}\n工號: ${employeeId}\n姓名: ${name}`);
            });
        };
    </script>
</body>
</html>
